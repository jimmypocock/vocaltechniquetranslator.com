<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vocal Technique Lyric Translator</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
    }

    .container {
      background: rgba(255, 255, 255, 0.95);
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
      backdrop-filter: blur(10px);
      width: 100%;
      max-width: 1000px;
    }

    .header {
      text-align: center;
      margin-bottom: 30px;
    }

    .header h1 {
      color: #333;
      font-size: 2.5em;
      margin-bottom: 10px;
      background: linear-gradient(45deg, #667eea, #764ba2);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .header p {
      color: #666;
      font-size: 1.1em;
    }

    .controls {
      display: flex;
      gap: 20px;
      margin-bottom: 20px;
      align-items: center;
      flex-wrap: wrap;
    }

    .intensity-control {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .intensity-control label {
      font-weight: 600;
      color: #333;
    }

    .intensity-slider {
      width: 200px;
      height: 6px;
      border-radius: 3px;
      background: #ddd;
      outline: none;
      -webkit-appearance: none;
    }

    .intensity-slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: #667eea;
      cursor: pointer;
    }

    .intensity-slider::-moz-range-thumb {
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: #667eea;
      cursor: pointer;
      border: none;
    }

    .intensity-value {
      font-weight: bold;
      color: #667eea;
      font-size: 1.2em;
      min-width: 20px;
    }

    .input-section,
    .output-section {
      margin-bottom: 20px;
    }

    .section-title {
      font-size: 1.2em;
      font-weight: 600;
      color: #333;
      margin-bottom: 10px;
    }

    textarea {
      width: 100%;
      min-height: 150px;
      padding: 15px;
      border: 2px solid #e0e0e0;
      border-radius: 10px;
      font-size: 1em;
      line-height: 1.6;
      resize: vertical;
      font-family: inherit;
      transition: border-color 0.3s;
    }

    textarea:focus {
      outline: none;
      border-color: #667eea;
    }

    .output-textarea {
      background-color: #f8f9fa;
      font-family: 'Courier New', monospace;
      font-weight: bold;
      color: #333;
    }

    .examples {
      margin-top: 30px;
      padding-top: 20px;
      border-top: 2px solid #e0e0e0;
    }

    .example {
      margin-bottom: 15px;
      padding: 15px;
      background-color: #f8f9fa;
      border-radius: 8px;
      border-left: 4px solid #667eea;
    }

    .example-title {
      font-weight: 600;
      color: #333;
      margin-bottom: 5px;
    }

    .technique-info {
      background-color: #e3f2fd;
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 20px;
      border-left: 4px solid #2196f3;
    }

    .technique-info h3 {
      color: #1976d2;
      margin-bottom: 10px;
    }

    .technique-info ul {
      list-style-type: none;
      padding-left: 0;
    }

    .technique-info li {
      margin-bottom: 5px;
      padding-left: 20px;
      position: relative;
    }

    .technique-info li:before {
      content: "â™ª";
      position: absolute;
      left: 0;
      color: #2196f3;
    }

    @media (max-width: 768px) {
      .intensity-control {
        justify-content: space-between;
      }

      .header h1 {
        font-size: 2em;
      }
    }
  </style>
</head>

<body>
  <div class="container">
    <div class="header">
      <h1>ðŸŽµ Vocal Technique Lyric Translator</h1>
      <p>Transform lyrics for optimal vocal technique and open throat positioning</p>
    </div>

    <div class="technique-info">
      <h3>Translation Principles</h3>
      <ul>
        <li>Opens closed vowel sounds for better resonance</li>
        <li>Softens hard consonants to maintain vocal flow</li>
        <li>Elongates sounds to encourage proper breath support</li>
        <li>Emphasizes first vowel in diphthongs</li>
        <li>Intensity 1-3: Subtle changes, 4-7: Moderate, 8-10: Aggressive</li>
      </ul>
    </div>

    <div class="controls">
      <div class="intensity-control">
        <label for="intensity">Intensity:</label>
        <input type="range" id="intensity" class="intensity-slider" min="1" max="10" value="8">
        <span class="intensity-value" id="intensityValue">8</span>
      </div>
    </div>

    <div class="input-section">
      <div class="section-title">Original Lyrics</div>
      <textarea id="lyricsInput" placeholder="Enter your song lyrics here...

Example:
She's got a smile that it seems to me
Reminds me of childhood memories
Where everything was as fresh as the bright blue sky"></textarea>
    </div>

    <div class="output-section">
      <div class="section-title">Translated for Vocal Technique</div>
      <textarea id="lyricsOutput" class="output-textarea" readonly
        placeholder="Your translated lyrics will appear here..."></textarea>
    </div>

    <div class="examples">
      <div class="section-title">How It Works</div>
      <div class="example">
        <div class="example-title">Vowel Opening (intensity 8):</div>
        "smile" â†’ "SMAEL" | "me" â†’ "MEH" | "seems" â†’ "SEMS"
      </div>
      <div class="example">
        <div class="example-title">Consonant Softening:</div>
        "it" â†’ "ED" | "that" â†’ "DAD" | "take" â†’ "DAEG"
      </div>
      <div class="example">
        <div class="example-title">Diphthong Emphasis:</div>
        "sky" â†’ "SGAE" | "cry" â†’ "CRAE" | "place" â†’ "PLAES"
      </div>
    </div>
  </div>

  <script>
    // Vocal Technique Translation Engine
    class VocalTranslator {
      constructor() {
        this.vowelTransforms = {
          // Basic vowel openings
          'i': { 1: 'i', 4: 'eh', 8: 'ae' },
          'e': { 1: 'e', 4: 'eh', 8: 'eh' },
          'a': { 1: 'a', 4: 'ah', 8: 'ah' },
          'o': { 1: 'o', 4: 'oh', 8: 'oh' },
          'u': { 1: 'u', 4: 'uh', 8: 'ah' },

          // Vowel combinations
          'ee': { 1: 'ee', 4: 'eh', 8: 'eh' },
          'ea': { 1: 'ea', 4: 'eh', 8: 'eh' },
          'ie': { 1: 'ie', 4: 'ae', 8: 'ae' },
          'oo': { 1: 'oo', 4: 'ow', 8: 'ow' },
          'ou': { 1: 'ou', 4: 'ow', 8: 'ow' },
          'ue': { 1: 'ue', 4: 'ow', 8: 'ow' },
          'ai': { 1: 'ai', 4: 'ae', 8: 'ae' },
          'ay': { 1: 'ay', 4: 'ae', 8: 'ae' },
          'ey': { 1: 'ey', 4: 'ae', 8: 'ae' },
          'y': { 1: 'y', 4: 'ae', 8: 'ae' }
        };

        this.consonantTransforms = {
          't': { 1: 't', 4: 'd', 8: 'd' },
          'k': { 1: 'k', 4: 'g', 8: 'g' },
          'p': { 1: 'p', 4: 'b', 8: 'b' },
          'c': { 1: 'c', 4: 'g', 8: 'g' },
          'th': { 1: 'th', 4: 'd', 8: 'd' },
          'f': { 1: 'f', 4: 'v', 8: 'v' }
        };

        this.specialPatterns = {
          'ing': { 1: 'ing', 4: 'ang', 8: 'ang' },
          'tion': { 1: 'tion', 4: 'shun', 8: 'shahn' },
          'ly': { 1: 'ly', 4: 'lae', 8: 'lae' }
        };
      }

      getIntensityLevel(intensity) {
        if (intensity <= 3) return 1;
        if (intensity <= 7) return 4;
        return 8;
      }

      transformVowel(vowel, intensity) {
        const level = this.getIntensityLevel(intensity);
        const transform = this.vowelTransforms[vowel.toLowerCase()];

        if (transform) {
          // Find the appropriate intensity level or closest lower one
          for (let i = level; i >= 1; i--) {
            if (transform[i]) return transform[i];
          }
        }
        return vowel;
      }

      transformConsonant(consonant, intensity) {
        const level = this.getIntensityLevel(intensity);
        const transform = this.consonantTransforms[consonant.toLowerCase()];

        if (transform) {
          for (let i = level; i >= 1; i--) {
            if (transform[i]) return transform[i];
          }
        }
        return consonant;
      }

      translateWord(word, intensity) {
        if (!word || word.trim() === '') return word;

        const originalWord = word.toLowerCase();

        // Check for complete word replacements first (highest priority)
        const specificTransforms = {
          'smile': 'smael',
          'seems': 'sems',
          'reminds': 'remaends',
          'childhood': 'chaeldhod',
          'memories': 'memores',
          'everything': 'eeverethang',
          'fresh': 'fresh',
          'bright': 'braed',
          'blue': 'blow',
          'sky': 'sgae',
          'when': 'when',
          'face': 'faes',
          'takes': 'daegs',
          'away': 'awae',
          'special': 'special',
          'place': 'plaes',
          'stared': 'sdaer',
          'long': 'long',
          'probably': 'brabley',
          'break': 'breag',
          'down': 'daon',
          'cry': 'crae',
          'pretty': 'brehdae',
          'eyed': 'aehd'
        };

        if (intensity >= 8 && specificTransforms[originalWord]) {
          return specificTransforms[originalWord].toUpperCase();
        }

        // For pattern-based transformation, track what's been transformed
        let result = originalWord;
        let transformedPositions = new Array(result.length).fill(false);

        // Collect all patterns sorted by length (longest first to prevent overlap)
        const allPatterns = [
          ...Object.entries(this.specialPatterns),
          ...Object.entries(this.vowelTransforms).map(([k, v]) => [k, v]),
          ...Object.entries(this.consonantTransforms).map(([k, v]) => [k, v])
        ].sort((a, b) => b[0].length - a[0].length);

        // Apply transformations without overlap
        for (const [pattern, transforms] of allPatterns) {
          const regex = new RegExp(pattern, 'gi');
          let match;

          while ((match = regex.exec(result)) !== null) {
            const startPos = match.index;
            const endPos = startPos + pattern.length;

            // Check if any position in this match has been transformed
            let hasOverlap = false;
            for (let i = startPos; i < endPos; i++) {
              if (transformedPositions[i]) {
                hasOverlap = true;
                break;
              }
            }

            if (!hasOverlap) {
              const level = this.getIntensityLevel(intensity);
              let replacement = transforms[level];

              // Find appropriate intensity level
              if (!replacement) {
                for (let i = level; i >= 1; i--) {
                  if (transforms[i]) {
                    replacement = transforms[i];
                    break;
                  }
                }
              }

              if (replacement && replacement !== pattern) {
                // Apply transformation
                result = result.substring(0, startPos) + replacement + result.substring(endPos);

                // Mark positions as transformed (adjust for length change)
                const lengthDiff = replacement.length - pattern.length;
                for (let i = startPos; i < startPos + replacement.length; i++) {
                  if (i < transformedPositions.length) {
                    transformedPositions[i] = true;
                  }
                }

                // Adjust array length if replacement changed word length
                if (lengthDiff > 0) {
                  transformedPositions.splice(endPos, 0, ...new Array(lengthDiff).fill(true));
                } else if (lengthDiff < 0) {
                  transformedPositions.splice(endPos + lengthDiff, -lengthDiff);
                }

                // Reset regex to account for changes
                regex.lastIndex = 0;
                break;
              }
            }
          }
        }

        return result.toUpperCase();
      }

      translateLyrics(lyrics, intensity) {
        if (!lyrics || lyrics.trim() === '') return '';

        const lines = lyrics.split('\n');
        const translatedLines = lines.map(line => {
          const words = line.split(/(\s+|[^\w\s])/);
          const translatedWords = words.map(word => {
            if (/^\w+$/.test(word)) {
              return this.translateWord(word, intensity);
            }
            return word;
          });
          return translatedWords.join('');
        });

        return translatedLines.join('\n');
      }
    }

    // Initialize translator
    const translator = new VocalTranslator();

    // Update intensity display
    const intensitySlider = document.getElementById('intensity');
    const intensityValue = document.getElementById('intensityValue');

    intensitySlider.addEventListener('input', function () {
      intensityValue.textContent = this.value;
    });

    // Auto-translate on input change (with debounce)
    let timeoutId;

    function translateLyrics() {
      const input = document.getElementById('lyricsInput').value;
      const intensity = parseInt(document.getElementById('intensity').value);
      const output = document.getElementById('lyricsOutput');

      if (!input.trim()) {
        output.value = '';
        return;
      }

      const translated = translator.translateLyrics(input, intensity);
      output.value = translated;
    }

    document.getElementById('lyricsInput').addEventListener('input', function () {
      clearTimeout(timeoutId);
      timeoutId = setTimeout(translateLyrics, 300);
    });

    intensitySlider.addEventListener('input', function () {
      clearTimeout(timeoutId);
      timeoutId = setTimeout(translateLyrics, 100);
    });

    // Initial translation on page load if there's content
    window.addEventListener('load', function () {
      const input = document.getElementById('lyricsInput').value;
      if (input.trim()) {
        translateLyrics();
      }
    });
  </script>
</body>

</html>